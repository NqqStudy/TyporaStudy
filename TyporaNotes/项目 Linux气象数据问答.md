# 1 在开发过程中，有没有用到库？用什么库？

如果不适用库(开发框架)，开发效率将特别低，不能不用。有两种解决办法：自己封装和寻找开源库，我把常用的操作做了封装(字符串、时间、目录和文件、日志文件)，ftp和数据库操作用开源库。

# 2 在开发过程中，用什么环境？

虚拟机和云服务器都有用到，以云服务器为主，虚拟机容易出现问题。在客户单位会提供开发测试的服务器，也是虚拟机。

# 3 Oracle数据库也是用的虚拟机么？

Oracle数据库没有安装在虚拟机上，Oracle不建议把数据库安装在虚拟机上，可能是认为虚拟机技术还不够成熟。我们开发的C++程序和WEB系统运行在虚拟机上是没有问题的。

## 4 Oracle数据库用的是什么服务器？什么型号？

Oracle的RAC用的是IBM小型机的分区，型号不清楚。其他应用数据库好像是IBM的3650，听说还有国产的服务器，浪潮什么的，型号不清楚。

# 5 这个项目的数据量有多大？

我负责开发，实施由其他同学/事负责，数据量不是很清楚，听说结构化数据8T，结构化数据没有统计。有几种数据的数据量比较大，超过10亿。

# 6 如果表的数据量太大，怎么处理？全部放在同意表中吗？

对Oracle数据库来说，表的记录在10亿以下都没有什么问题，如果超过10亿，可以把冷数据迁移到历史表中，也可以按年归档，一年一个表。

# 7 用C++怎么操作Oracle数据库？

Oracle提供OCI，不过OCI很麻烦，数据结构和函数的参数特别多。

1. 在网上找到一个大佬的库，把OCI封装成两个类，用起来很方便
2. 后来在网上还找到另一个开源库ocilib，也很方便

# 8 这个项目只用Oracle，没有用其它数据库么？

有，有些业务系统使用MySQL和SQL Server，但是我对这两个数据库不熟，这部分的工作是同学做的

# 9 在C++程序中，如果表中的字段是整数，怎么把空值插进去？

C++中，用字符串就可以，空字符串插入表中就是空值。

# 10 Oracle数据库的性能怎么样？做过压力测试吗？

Oracle插入的性能是5000左右/秒，查询的性能可以超过1万/秒，这个和硬件有关，压力测试也做过一些，用几亿的数据量测试过，如果表中的数据量太大，对性能影响不大，但是管理起来很麻烦，备份和迁移的时间很长，只能自己写程序分批的操作数据，慢慢跑。

# 11 用ftp做过什么？自己实现ftp协议吗？

用ftp做过文件的下载和上传，从网上找到开源库ftplib，这是纯C的库，用起来很麻烦，把它封装成C++的类。如果需要用到新技术：1 了解它的原理；2 寻找开源库；3 封装。

# 12 自己用tcp转输文件是怎么做的？怎么保证效率？

传输文件时，需要对端的确认，如果采用同步通讯的方法，发送一个文件后，等待对端的确认，如果采用同步通讯的方法，发送一个文件后，等待对端的确认，这么做效率很低。我采用异步的方法，在发送文件之后，检查对端是否确认报文，如果没有确认报文，马上返回，不阻塞，也就是说，有确认报文就处理确认报文，如果没有确认报文，继续发送文件。

# 13 同步数据的时候，dblink是从源端指向目的端？还是从目的端指向源端？为什么？

如果dblink从源端指向目的端，会产生远程事务，远程事务的效率很低，容易出问题，也可能会锁表，所以要从目的端指向源端，这样就不会产生远程事务。

# 14 在多线程程序中，用的是linux的pthread线程库？还是C++11的线程？

C++11是未来的趋势，C++标准委员会既然把线程C++中，肯定有他们考虑。我认为，C++的线程比pthread库要简单，用起来要方便很多。

